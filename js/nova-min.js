var NovaUtilities=function(){"use strict";var e,t="en-us",n=NovaConfig.textKeys,a={},r=$("body"),o=function(e){c(),d("modal",null)},i=function(e,t,a,r){var o,i,s,l,u,c,d,f=!1,h=n.dateTime;return t?(o=e.toString().split(":"),i=60*parseInt(o[0],10),l=parseInt(o[1],10),u=i+l):(c=Math.round(e),i=Math.floor(c/60),l=c-60*i,u=isNaN(c)||0===c?"00:00":("0"+i).slice(-2)+":"+("0"+l).slice(-2)),a&&(s=parseInt(u.substring(0,2)),(s<12||24===s)&&(f=!0,u=24===s?"12:00":u,u+=h.timeIndicator.morning,"0"===u.charAt(0)&&(u=u.substr(1))),f&&"0"===u.charAt(0)?(u=u.substr(1),u="12"+u):f||(s>12&&(d=s-12,u=String(d)+u.substr(-3)),u+=h.timeIndicator.afternoon)),r&&!a&&"0"===u.charAt(0)&&(u=u.substr(1)),u},s=function(e){return e?a[e]:a},l=function(e){return e.offsetWidth<e.scrollWidth},u=function(e){delete a[e]},c=function(){a=NovaUtilities.parseHash()},d=function(e,t){a[e]=t},f=function(e,t,n,a){var r=e?"#"+e:".contentSubBlock:first",o=t||".contentSubBlock",i=n||"",s=a||"";($("#contentHolder").length?$("#contentHolder"):$("#contentArea")).find(o).hide().addClass(s).removeClass(i).end().find(r).fadeIn().addClass(i).removeClass(s)},h=function(e){return NovaUtilities[e]},v=function(t,n){if(["currLanguage","currMenuVal","pendingChange","urlParams","currContentBlock"].indexOf(t)<0)return!1;NovaUtilities[t]=n,e={name:t,value:n},$.watcher("publish","/Nova.NovaUtilities/variableChange",e),$.watcher("publish","/Nova.NovaUtilities/"+t,e)},p=function(e){for(var t="",n=new window.Uint8Array(e),a=n.byteLength,r=0;r<a;r++)t+=String.fromCharCode(n[r]);return window.btoa(t)},b=function(e){return"true"===(e+"").toLowerCase()},g=function(e){return new RegExp("^[a-zA-Z_][a-zA-Z_0-9-]*$").test(e)},w=function(e,t,n){for(var a=3===arguments.length&&t.pop(),r=t.length,o=e,i=0;i<r;i++)o=o[t[i]]=e[t[i]]||{};return a&&(o=o[a]=n),o},N=function(e,t,n){var a;return function(){var r=this,o=arguments,i=function(){a=null,n||e.apply(r,o)},s=n&&!a;clearTimeout(a),a=setTimeout(i,t),s&&e.apply(r,o)}},m=function(e,t){for(var n,a=[],r=0,o=e.length;r<o;r++){n=e[r];for(var i in n)n.hasOwnProperty(i)&&i===t&&a.push(n[i])}return a},C=function(e){return(e?e.toString():"").replace(/[^a-zA-Z0-9]/g,"_-_")},y=function(e){var t=e.toString();return t=t.substr("function ".length),t=t.substr(0,t.indexOf("("))},A=function(e){var t=e,n;if(e&&"object"==typeof e){t="[object Array]"===Object.prototype.toString.call(e)?[]:{};for(n in e)e.hasOwnProperty(n)&&(t[n]=A(e[n]))}return t},S=function(e,t,n){for(var a,r=0,o=n.length;r<o;r++)if(n[r][e]===t)return a=n[r];return!1},L=function(e,t){if(t){var n=0;for(var a in e)e.hasOwnProperty(a)&&n++;return n}return Object.keys(e).length},E=function(e,t){var n=t||50,a=$('<div style="width:50px;height:'+n+'px;overflow:hidden;position:absolute;top:-2000px;left:-2000px;"><div style="height:100px;"></div></div>');$("#"+e).append(a);var r=$("div",a).innerWidth();a.css("overflow-y","auto");var o=$("div",a).innerWidth();return $(a).remove(),r-o},H=function(e,t){var n,a,r=e.length,o=[],i={};if(t){for(n=0;n<r;n++)i[e[n][t]]=e[n];for(a in i)i.hasOwnProperty(a)&&o.push(i[a])}else $.each(e,function(e,t){-1===$.inArray(t,o)&&o.push(t)});return o},T=function(e){return e===Object(e)},x=function(e){return/\b((?:https?:\/\/|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/i.test(e)},D=function(e,t,n){var a=e||0,r=t||100,o=n||0;return Math.min(Math.max(o,a),r)},O=function(e){var t=[],n;for(var a in e)e.hasOwnProperty(a)&&(n={},n[a]=e[a],t.push(n));return t},U=function(e,t){var n,a="",r=t?" ":"";for(n in e)e.hasOwnProperty(n)&&(a+=e[n]+r);return $.trim(a)},I=function(e,t){var n;return function(){return e&&(n=e.apply(t||this,arguments),e=null),n}},k=function(){var e,t,n={},a=location.hash.substring(1).split("&"),r=a.length;for(e=0;e<r;e++)t=a[e].split(":"),n[t[0]]=t[1];return n},R=function(e,t){var n=t?String(t):String(window.location.hash),a=new RegExp("\\?"+e+"=[^&]*&?","gi");if(n=n.replace(a,"?"),a=new RegExp("\\&"+e+"=[^&]*&?","gi"),n=n.replace(a,"&"),n=n.replace(/(\?|&)$/,""),a=null,t)return n;window.location.hash=n},P=function(e){var t=window.location.href,n=e.replace(/[\[\]]/g,"\\$&"),a=new RegExp("[?&]"+n+"(=([^&#]*)|&|#|$)"),r=a.exec(t);return r?r[2]?decodeURIComponent(r[2].replace(/\+/g," ")):"":null},_=function(e,t,n){for(var a=e,r=0,o=a.length;r<o;r++)a[r][n]=a[r][t],delete a[r][t];return a},B=function(e,t,n,a){for(var r,o=[],i=0,s=e.length;i<s;i++)r=e[i],r[t]===n&&(a?e.splice(i,1):o.push(r));return o},F=function(e,t){var n=[],a;return $.each(e,function(r,o){-1!==r.indexOf(t)&&(a={},a[r]=e[r],n.push(a))}),n},M=function(e,t){t?$(e).off("mousewheel DOMMouseScroll"):$(e).on("mousewheel DOMMouseScroll",function(e){var t=e.originalEvent.wheelDelta||-e.originalEvent.detail,n=t>0?"up":"down";("up"===n&&0===this.scrollTop||"down"===n&&this.scrollTop===this.scrollHeight-this.offsetHeight)&&e.preventDefault()})},V=function(e){return function(t,n){var a=t[e],r=n[e];return a<r?-1:a>r?1:0}},j=function(e,t){var n=e.label.toLowerCase(),a=t.label.toLowerCase();return n<a?-1:n>a?1:0},z=function(e,t,n){if(e){if("string"==typeof e){var a=t||"_";return n&&e.convertCamelCase(),e.replace(/ /g,a)}if("number"==typeof e)return e}return""},K=function(e){var t="";return e&&(t=e.replace(/[`~!@#$%^&*()|+=÷¿?;:'",.<>\{\}\[\]\\\/]/gi,"")),t},G=function(e){var t,n,a="",r=e;for(t in r)r.hasOwnProperty(t)&&r[t]&&(a+=t+":"+r[t]+"&");n=a.substring(0,a.length-1),window.location.hash=n},W=function(e){return $("<i/>",{class:e||"fa"})},J=function(e,t,n,a){return $("<button/>",{id:e||null,class:t||null,text:n||"",type:"button","data-automation":a||"btn_"+z(n,null,!0)+"_"+e})},q=function(e,t,n){return $("<div/>",{id:e||null,class:t||null,html:n||""})},Z=function(e,t,n,a,r,o,i,s){var l=$("<input/>",{id:e||"",class:r||"",name:t||"",type:n||"text",value:a||"","data-automation":s||"txt_"+z(t,null,!0)+"_"+e});return"radio"!==n&&"checkbox"!==n||!0!==o||l.attr("checked","checked"),!0===i&&l.prop("disabled",!0),l},Q=function(e,t,n,a){return $("<label/>",{for:e||"",class:t||"",html:n||"","data-automation":a||"lbl_"+e})},Y=function(e,t,n,a,r,o){var i=r||{},s=$.extend({},i,{href:n||"javascript:void(0)",class:t||"",html:e||"",id:a||"","data-automation":o||"lnk_"+z(e,null,!0)+"_"+a});return $("<a/>",s)},X=function(e,t){return $("<li/>",{html:e||"",class:t||""})},ee=function(e,t,n){return $("<ul/>",{html:e||"",class:t||"",id:n||""})},te=function(e,t,n){var a,r,o=ae(e,t),i=n.length;for(a=0;a<i;a++)r=n[a],o.append(ne(r.value,r.label));return o},ne=function(e,t,n,a){var r=$("<option/>",{value:e,text:t,"data-automation":"lst_option_"+z(e,null,!0)});return n&&(r.selected=!0),r},ae=function(e,t,n,a,r){var o,i,s=$("<select/>",{id:e,class:t,"data-menutype":n||"","data-automation":r||"lst_"+z(n,null,!0)+"_"+e});if(a)for(var l=0,u=a.length;l<u;l++)o=a[l],i=o.selected||!1,s.append(ne(o.value,o.label,i));return s};return{convertTimestamp:i,currLanguage:"en-us",getFaIcon:W,getSimpleButton:J,getSimpleDiv:q,getSimpleInput:Z,getSimpleLabel:Q,getSimpleLink:Y,getSimpleListItem:X,getSimpleListWrapper:ee,getSimpleMenu:te,getSimpleOption:ne,getSimpleSelect:ae,getSimpleSpan:function(e,t,n){return $("<span/>",{text:e,class:t||"",id:n||""})},getUrlParams:s,getVariableValue:h,isTruncated:l,removeUrlParam:u,setNovaDefaults:o,setHash:c,setUrlParam:d,setVariableValue:v,showHideArea:f,urlParams:a}}(jQuery);$.fn.handlebars=function(e,t,n){"use strict";var a,r=e,o=window.Handlebars;!0===n?(a=o.templates[r],this.html(a(t))):(a={},r instanceof jQuery&&(r=$(r).html()),a[r]=o.compile(r),this.html(a[r](t)))};var Handlebars=window.Handlebars;Handlebars.registerHelper("partial",function(e){return new Handlebars.SafeString(Handlebars.templates[e](this))}),Handlebars.registerHelper("include",function(e,t){"use strict";var n=Handlebars.templates[e],a=$.extend({},this,t.hash);return new Handlebars.SafeString(n(a))}),Handlebars.registerHelper("comparemultiple",function(e,t,n,a){"use strict";if(arguments.length<3)throw new Error('Handlerbars Helper "comparemultiple" needs at least 2 parameters');var r,o=a.hash.ignoreCase||!1,i=e||"",s=t||"",l=n||"",u={"==":function(e,t,n){return e===t||e===n},"===":function(e,t,n){return e===t||e===n},"!=":function(e,t,n){return e!==t||e!==n},"<":function(e,t,n){return e<t||e<n},">":function(e,t,n){return e>t||e>n},"<=":function(e,t,n){return e<=t||e<=n},">=":function(e,t,n){return e>=t||e>=n}},c=a.hash.operator||"==";if(!u[c])throw new Error('Handlerbars Helper "comparemultiple" doesn\'t know the operator '+c);return r=o?u[c](i.toLowerCase(),s.toLowerCase(),l.toLowerCase()):u[c](i,s,l),r?a.fn(this):a.inverse(this)}),Handlebars.registerHelper("compare",function(e,t,n){"use strict";if(arguments.length<3)throw new Error('Handlerbars Helper "compare" needs 2 parameters');var a,r=n.hash.ignoreCase||!1,o=e||"",i=t||"",s={"==":function(e,t){return e==t},"===":function(e,t){return e===t},"!=":function(e,t){return e!=t},"<":function(e,t){return e<t},">":function(e,t){return e>t},"<=":function(e,t){return e<=t},">=":function(e,t){return e>=t},typeof:function(e,t){return typeof e===t}},l=n.hash.operator||"==";if(!s[l])throw new Error('Handlerbars Helper "compare" doesn\'t know the operator '+l);return a=r?s[l](o.toLowerCase(),i.toLowerCase()):s[l](o,i),a?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("setDisplayIndex",function(e,t){var n=!1===t?0:1;this.displayIndex=Number(e+n)}),Handlebars.registerHelper("setTemplateVar",function(e,t){var n,a,r=[],o=t.hash;for(n in o)o.hasOwnProperty(n)&&(a=Number(n.substr(6)),r[a]=o[n]);this[e]=r.join("")}),Handlebars.registerHelper("setCleanID",function(e,t){this[t]=NovaUtilities.getCleanIdString(e)}),Handlebars.registerHelper("stripSpaces",function(e,t,n){var a=t.length>0,r=n?NovaUtilities.stripSpecial(e):e;return NovaUtilities.stripSpaces(r,t,a)}),Handlebars.registerHelper("toLowerCase",function(e){return"string"==typeof e?e.toLowerCase():e}),Handlebars.registerHelper("debug",function(e,t){console.log("Current Context"),console.log("===================="),console.log(this),e&&(console.log("Value"),console.log("===================="),console.log(e,t))}),Handlebars.registerHelper("times",function(e,t,n){var a,r="",o=n||t;if("zero"===t)for(a=0;a<e;a++)r+=o.fn(a);else for(a=1;a<=e;a++)r+=o.fn(a);return r}),Handlebars.registerHelper("truncate",function(e,t){"use strict";var n,a=t.hash,r=a.overflowText||"",o=Number(a.trimLength),i=e;return e.length>o&&e.length>0&&(n=e+" ",n=e.substr(0,o),n=e.substr(0,n.lastIndexOf(" ")),n=n.length>0?n:e.substr(0,o),i=new Handlebars.SafeString(n+r)),i}),Handlebars.registerHelper("ifAnd",function(e,t,n){return e&&t?n.fn(this):n.inverse(this)}),Handlebars.registerHelper("if_even",function(e,t){"use strict";return e%2==0?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("ifObject",function(e,t){return"object"==typeof e?t.fn(this):t.inverse(this)}),Handlebars.registerHelper("ifArray",function(e,t){return e instanceof Array?t.fn(this):t.inverse(this)});var NovaConfig=function(e){"use strict";var t="en-us",n={global:{footerText:"&copy; Nova - "+(new Date).getFullYear(),headerText:"Nova / <span>Administration</span>",loadingText:"Loading...",logoAltText:"Nova - Administration",logoutLabel:"Log out"},sidebarKeys:{mainNav1:"Main Nav Item 1",mainNav1_sub1:"Sub Nav Item 1",mainNav1_sub2:"Sub Nav Item 2",mainNav1_sub3:"Sub Nav Item 3"}};return{defaultLanguage:"en-us",textKeys:n,viewMap:{"auth-settings":[{buttonBarOptions:{keys:n.authentication,options:{},template:null,type:"authFlow"},menuBarOptions:{},headerSave:!0,instanceMenu:!1,id:"auth-config"},{buttonBarOptions:{keys:n.authentication,options:{},template:null,type:"authSource"},menuBarOptions:{label:"",keys:n.authentication,options:{buttonLabel:n.buttons.addNewSource,label:n.authentication.beginSearch,orLabel:n.global.orLabel},template:"auth-menuBar",type:"custom"},headerSave:!1,instanceMenu:!1,id:"auth-source"},{buttonBarOptions:{keys:n.authentication,options:{},template:null,type:"authHandler"},menuBarOptions:{label:"",keys:n.authentication,options:{buttonLabel:n.buttons.addNewHandler,label:n.authentication.beginSearch,orLabel:n.global.orLabel},template:"auth-menuBar",type:"custom"},headerSave:!1,instanceMenu:!1,id:"auth-handler"}]},viewMethods:{apiKeyMgmt:"setApiKeyMgmt"}}}(window),NovaData=function(e){"use strict";var t,n,a,r,o,i={},s={},l="en-us",u="application/json; charset=utf-8;",c=$.getUrlVars(),d="/PATH_TO_SERVER/API_NAME",f="color:#fff; font-weight:bold; background:#1E619E; padding:2px 5px;",h=f+" background:#1E619E;",v=f+" background:#084908;",p=f+" background:#800005;",b=f+" background:#0e7560;",g=f+" background:#ba4b01;",w="font-weight:bold; margin-left:10px;",N=g+" color:#000;",m={sampleCall:{apiCall:"sampleCall/{id}",method:"PUT",contentType:""}},C=function(e,a){if(!e)throw new Error("NO INIT METHOD HAS BEEN DEFINED");t=e,n=a||L},y=function(e,n){var a=e?A:t,r=m.getToken,o=r.apiCall,i=r.method,s=d,l=n||{},u={};l.reAuth=e,l.tokenCall=!0,H(o,u,i,a,l,s)},A=function(e,t){S(t.serviceName,t.params,t.callback,t.cbParams,t.isDataTable,t.cacheRef,t.bypassCache)},S=function(e,t,n,a,r,o,i){var l,c,f,h,v,p=m[e]||{},b=p.apiCall||e,g=p.method||"GET",w=p.contentType?u+p.contentType:u;if(f=$.isArray(t)?t:$.extend({},t),r&&(f.language="en-us"),o&&!i){if(l=x(o))return void n(l,a);s[o]||(s[o]={}),a.dataCache={reference:o}}for(h in f)f.hasOwnProperty(h)&&(v="{"+h+"}",b.indexOf(v)>=0&&(b=b.replace(v,encodeURIComponent(f[h])),delete f[h]));a._callData={serviceName:e,params:t,callback:n,cbParams:a,isDataTable:r,cacheRef:o,bypassCache:i},H(b,f,g,n,a,d,w,o)},L=function(){throw new Error("NO ERROR CALLBACK METHODS HAVE BEEN DEFINED")},E=function(){r&&4!==r.readyState&&(console.log("CANCELLING DATA CALL",r),r.abort())},H=function(e,t,o,s,l,u,c,d){var f,b,w,N,m,C,A,S,L,E="json",H=l.tokenCall?{}:{Authorization:"Bearer "+a,Accept:"application/json"},x=!0,O=l._callData&&l._callData.isDataTable,U=u+e;$("html").addClass("loading"),"GET"===o?f=$.param(t):"DELETE"===o?(_.isEmpty(t)||(U=U+"?"+$.param(t)),f=null):f=$.toJSON(t),console.group("%c"+o+" - "+e+" ",h),console.log("CALLING - ",U),console.log("CALLBACK PARAMS - ",l),console.log("PASSING - ",f),console.groupEnd(),r=$.ajax({type:o,url:U,data:f,contentType:c,processData:!0,dataType:"json",headers:H,cache:!1,beforeSend:function(e){i={request:e},$.watcher("publish","/NovaData/requestSent",i)},complete:function(e,t){i={request:e,textStatus:t},$.watcher("publish","/NovaData/responseRecieved",i)}}).done(function(t,n,r){if($("html").removeClass("loading"),S=T(r.getAllResponseHeaders())||{},N=r.responseText,m=r.responseJSON,C=String(r.status),A=C.charAt(0),console.group("\t%c["+C+"] RESPONSE FOR : "+e,v),console.log("\tHEADERS FOR "+e+" : ",S),console.log("\tDATA FOR "+e+" : ",t||"API RETURNS NO DATA HERE"),O&&console.table(t.data),console.groupEnd(),l.tokenCall)a=t.entry.access_token,l.reAuth=null,l.tokenCall=null,l.appToken=a,s(t,l,S,C);else if(!t||!t.status||!0===t.status.success||"success"===t.status||!1===t.status.success&&!1===t.status.apiError){if(d&&(L=l.cachedData||t,D(d,L)),!s)return C;s(t,l,S,C)}else!t.status||!0!==t.status.apiError&&!1!==t.status.success||(s&&l&&l.handleApiErrors&&s(t,l,S,C),console.log("\t%cERROR: ",p,t.status.message),i={apiCall:e,data:t,headers:S,result:r,statusCode:C,textStatus:n},$.watcher("publish","/NovaData/apiError",i))}).fail(function(t,a){if($("html").removeClass("loading"),S=T(t.getAllResponseHeaders())||{},N=t.responseText,m=t.responseJSON||"no responseJSON present",C=String(t.status),A=C.charAt(0),console.group("\t%cFAILED - "+e+" ",p),console.error("\t%c["+C+"] RESPONSE FOR "+e+" :",p,t,a),console.error("\t%cHEADERS FOR "+e+" : ",p,S),i={apiCall:e,headers:S,result:t,statusCode:C,textStatus:a},"abort"===a)return console.groupEnd(),console.log("\t%cCALL ABORTED - "+e+" ",g,U,arguments),r=null,void $.watcher("publish","/NovaData/aborted",i);if(n(!0),console.error("\t%cFAIL ARGUEMENTS FOR "+e+" :",p,arguments,m),$.watcher("publish","/NovaData/error",i),m&&!1===m.success){b=m.errors,w="- "+m.message+" -";for(var o in b)b.hasOwnProperty(o)&&(w+="\n- "+b[o]);console.error("\t%cAPI ERROR CALL: ",p,w),$.watcher("publish","/NovaData/apiError",i)}else{if(console.error("\t%c["+t.statusText+"] FAILED FOR "+e+" :  ",p,t.status+" : "+a),console.error("\t%cSTATUS - ",p,a),i={apiCall:e,headers:S,result:t,statusCode:C,textStatus:a},"4"===A)return"401"===C?(y(!0,l._callData),!1):"404"===C?(s({},l,S,C),!1):($.watcher("publish","/NovaData/apiError",i),!1);if(N&&N.toLowerCase().indexOf("<body")>0)return $.watcher("publish","/NovaData/expiredError",i),!1;$.watcher("publish","/NovaData/serverError",i)}console.groupEnd()})},T=function(e){if(e.length){var t,n={};return e.split("\n").forEach(function(e){t=e.split(": "),t[0].length&&(n[t[0].toLowerCase()]=t[1])}),n}},x=function(e){if(s[e]){if(s[e]){var t=s[e];return console.group("%c"+e+" - %cCACHED DATA ",h,N),console.log("%cRESPONSE : ",w,t),console.groupEnd(),t}return!1}return!1},D=function(e,t){s[e]=t};return{apiLogStyle:h,cachedLogStyle:N,cancelDataCall:E,checkCache:x,errorLogStyle:p,getAuth:y,getData:S,informLogStyle:b,init:C,logStyling:f,paramLogStyle:w,removeCache:function(e){delete s[e]},updateCache:D,warnLogStyle:g}}(window),NovaLoader=function(e){"use strict";var t,n,a=e.NovaConfig,r=!1,o,i,s=function(e,t){console.log("LOADER INIT"),r=!0,o=t,i=e,u()},l=function(e){var t=e||i;o.fadeOut(500,function(){t.fadeIn(300,function(){$.watcher("publish","/Nova.Loader/contentShowing",void 0)}),NovaUtilities.dataLoading(!1)})},u=function(){r&&(NovaUtilities.dataLoading(!0),o.fadeIn(300))};return{init:s,hideLoader:l,showLoader:u}}(window),Nova=function(e){"use strict";var t=NovaConfig.textKeys,n="SampleView",a=NovaConfig.defaultLanguage,r,o,i,s,l,u,c=!1,d,f,h={},v={},p=function(e){h=$.extend(h,e),NovaData.getAuth(!1)},b=function(e,t){var n="initNova",a=w,r=t,o={};NovaData.getData("initNova",o,a,r)},g=function(){e.location.replace("/pkmslogout")},w=function(n,a){NovaUtilities.setNovaDefaults(n),m(),C(),y(),N(),$.gwvalidate.messages(t.validations),$(e).on("hashchange",NovaUtilities.setHash)},N=function(){$.watcher("subscribe","/Nova.NovaUtilities/variableChange",function(e){})},m=function(){s=new Nova.Footer({$container:$("#footer"),footerText:t.global.footerText})},C=function(e){$.watcher("subscribe","/Nova.TopBar/logout",function(e){NovaData.destroyToken(g)}),l=new Nova.TopBar({$container:$("#topBar"),textKeys:t})},y=function(){$.watcher("subscribe","/Nova.Sidebar/pendingChange",function(e){NovaUtilities.warnPendingChange(e.element,e.type)}),$.watcher("subscribe","/Nova.Sidebar/navChange",function(e){var t=e.sectID,n=e.subID,a=e.isIframe;L(t,n,a)}),u=new Nova.Sidebar({allowBeta:$.getUrlVar("demo")&&"true"===$.getUrlVar("demo").toString(),$container:$("#sidebar"),clientAlt:h.clientAlt||t.global.logoAltText,clientLogo:h.clientLogo||"/images/ibm-admin-logo.png",sidebarKeys:t.sidebarKeys,environmentSettings:(void 0).environmentSettings,startupPage:NovaUtilities.getUrlParams("page")||n})},A=function(e,n){$.watcher("subscribe","/Nova.ContentArea/destroyed",function(e){r=null,c=!1}),$.watcher("subscribe","/Nova.ContentArea/changeContentArea",function(e){NovaUtilities.setVariableValue("currContentBlock",e.content)}),$.watcher("subscribe","/Nova.ContentArea/showContent",function(e){NovaUtilities.showHideArea(e.id)}),$.watcher("subscribe","/Nova.ContentArea/containerReady",function(t){c=!0,H(e,n)}),$.watcher("subscribe","/Nova.ContentArea/updateHash",function(e){for(var t,n,a=e.hashItems,r=0,o=a.length;r<o;r++)t=a[r],n=t.value,n?NovaUtilities.setUrlParam(t.label,t.value):NovaUtilities.removeUrlParam(t.label);NovaUtilities.updateHash(NovaUtilities.getUrlParams())});var a={textKeys:t};r=new Nova.ContentArea(a),r.init()},S=function(e){i=new Nova.Users({viewData:e,textKeys:t})},L=function(t,n,a){NovaUtilities.resetUpdatedData(),e.location.hash="page:"+n,NovaUtilities.setUrlParam("page",n),H(NovaConfig.viewMap[n],n),NovaUtilities.updateHash(NovaUtilities.getUrlParams())},E=function(e,t){i&&(i.destroy(),i=null),e&&r&&r.destroy()},H=function(e,t){if(!1===c)return void A(e,t);E(!1),v={viewData:e,section:t},$.watcher("publish","/Nova/changingContent",v);var n=NovaConfig.viewMethods[e[0].id];(0,Nova[n])(e,t)},T=function(e,t){v={},$.watcher("publish","/Nova/viewLoaded",v);var n=NovaUtilities.getUrlParams("content")||null;NovaUtilities.setFormStyles(),NovaUtilities.showHideArea(n)},x=function(e){NovaUtilities.updateHash(NovaUtilities.getUrlParams())},D=function(e){var t=b;Nova.VERSION&&console.info("Nova.VERSION",Nova.VERSION),NovaData.init(t,NovaUtilities.dataUpdated),$("body").waitForImages({waitForAll:!0,finished:function(){p(e)}})},O=e.nova,U=e.Handlebars;return{novaSessionEnded:g,setContentSection:L,startNova:D,applicationData:void 0,setUSampleView:S}}(window);Nova.Footer=function(e){"use strict";if(!(this instanceof Nova.Footer))throw new Error("Nova.Footer needs to be called with the new keyword");var t,n,a,r="footer",o=function(){n=e.$container,i(),t={},$.watcher("publish","/Nova.Footer/initialized",t)},i=function(){a={copyright:e.footerText},n.handlebars("footer",a,!0),s()},s=function(){},l=function(){},u=function(){$.watcher("unsubscribeAll","/Nova.Footer/initialized"),$.watcher("unsubscribeAll","/Nova.Footer/destroyed")},c=function(){t={},$.watcher("publish","/Nova.Footer/destroyed",t),u()},d={destroy:c};return o(),d},Nova.Sidebar=function(e){"use strict";if(!(this instanceof Nova.Sidebar))throw new Error("Nova.Sidebar needs to be called with the new keyword");var t,n,a,r=300,o=e.clientAlt,i=e.clientLogo,s="sidebar",l=e.sidebarKeys,u=[{label:l.mainNav1,id:"mainNav1",iconCSS:"fa fa-institution",sections:[{label:l.mainNav1_sub1,id:"mainNav1_sub1"},{label:l.mainNav1_sub2,id:"mainNav1_sub2"},{label:l.mainNav1_sub3,id:"mainNav1_sub3"}]}],c=e.startupPage,d=e.$container,f=function(){h(),t={},$.watcher("publish","/Nova.Sidebar/initialized",t)},h=function(){n={navItems:u,clientLogo:i,clientAlt:o},d.handlebars(s,n,!0),p(),v()},v=function(){a=$("#navMenu"),a.find("li.mainLevelNav>a").on("click",function(e){return e.preventDefault(),$(this).hasClass("current")||$(this).toggleClass("selected").next().toggleClass("selected").slideToggle(300),!1}).end().find("a.subLevelNav").on("click",function(e){if(e.preventDefault(),!$(this).hasClass("selected")){var n,r,o=$(this).parent().parent().parent().parent(),i=o.children("a");a.find("a.subLevelNav.selected").removeClass("selected fa-circle").addClass("fa-circle-o"),$(this).addClass("selected fa-circle"),i.hasClass("current")||(a.find("li.mainLevelNav>a").not(i).removeClass("current selected").next().slideUp(300),i.addClass("current").removeClass("selected"),$("html, body").animate({scrollTop:0},300)),n=o.find("a").attr("data-id"),r=$(this).data("id"),t={sectID:n,subID:r},$.watcher("publish","/Nova.Sidebar/navChange",t)}return!1}),g()},p=function(){},b=function(){a.find("li.mainLevelNav>a").off("click").end().find("a.subLevelNav").off("click"),$.watcher("unsubscribeAll","/Nova.Sidebar/initialized"),$.watcher("unsubscribeAll","/Nova.Sidebar/destroyed"),$.watcher("unsubscribeAll","/Nova.Sidebar/navChange")},g=function(){var e=c,t=e.indexOf("-"),n=e.substring(0,t),a="leftNav-"+n;$("#"+a).find(">a").trigger("click").end().find('div ul li a[data-id="'+e+'"]').trigger("click")},w=function(){t={},$.watcher("publish","/Nova.Sidebar/destroyed",t),b()},N={destroy:w};return f(),N},Nova.TopBar=function(e){"use strict";if(!(this instanceof Nova.TopBar))throw new Error("Nova.TopBar needs to be called with the new keyword");var t,n,a,r="topBar",o=e.textKeys,i=function(){n=e.$container,t={},$.watcher("publish","/Nova.TopBar/initialized",t),s()},s=function(){var e={textKeys:o,headerText:o.global.headerText};n.handlebars("topBar",e,!0),l()},l=function(){},u=function(){},c=function(){var e;a.off("click"),$.watcher("unsubscribeAll","/Nova.TopBar/initialized"),$.watcher("unsubscribeAll","/Nova.TopBar/destroyed"),$.watcher("unsubscribeAll","/Nova.TopBar/logoutLink")},d=function(){t={},$.watcher("publish","/Nova.TopBar/destroyed",t),c()},f={destroy:d};return i(),f},Nova.ContentArea=function(e){"use strict";if(!(this instanceof Nova.ContentArea))throw new Error("Nova.ContentArea needs to be called with the new keyword");var t,n,a,r,o,i,s,l,u,c,d,f,h="contentArea",v=NovaUtilities.getUrlParams("subsection"),p=null,b=null,g=e.textKeys,w=function(){t={},$.watcher("publish","/Nova.ContentArea/initialized",t),N()},N=function(){var e={saveLabel:g.buttons.save,loadingText:g.global.loadingText};$("#content").handlebars(h,e,!0),r=$("#contentArea"),o=$("#contentHeader"),C(),r.hide(),NovaLoader.init(r,$("#contentLoader")),t={},$.watcher("publish","/Nova.ContentArea/containerReady",t)},m=function(){},C=function(){s=$.watcher("subscribe","/Nova/updateContent",function(e){console.log("UPDATING CONTENT")}),l=$.watcher("subscribe","/Nova/changingContent",function(e){v=e.section,p=e.viewData,NovaLoader.showLoader(),r.fadeOut(100)}),u=$.watcher("subscribe","/Nova/viewLoaded",function(e){NovaLoader.hideLoader()})},y=function(){$.watcher("unsubscribeAll","/Nova.ContentArea/initialized"),$.watcher("unsubscribeAll","/Nova.ContentArea/destroyed"),$.watcher("unsubscribeAll","/Nova.ContentArea/changeContentArea"),$.watcher("unsubscribeAll","/Nova.ContentArea/containerReady"),$.watcher("unsubscribeAll","/Nova.ContentArea/updateHash"),$.watcher("unsubscribeAll","/Nova.ContentArea/updateInstance"),$.watcher("unsubscribe","/Nova/viewLoaded",u),$.watcher("unsubscribe","/Nova/changingContent",l),$.watcher("unsubscribe","/Nova/updateContent",s)},A=function(e,t,n){var a,r=n,o=Object.prototype,i=o.toString,s=o.hasOwnProperty.bind(e);"[object Array]"!==i.call(r)&&(r=[]);for(a in e)s(a)&&(a===t?r.push(e[a]):"[object Array]"!==i.call(e[a])&&"[object Object]"!==i.call(e[a])||A(e[a],t,r));return r},S=function(e){var n=[];for(var a in e)e.hasOwnProperty(a)&&n.push({label:a,value:e[a]});t={hashItems:n},$.watcher("publish","/Nova.ContentArea/updateHash",t)},L=function(){t={},$.watcher("publish","/Nova.ContentArea/destroyed",t),y()},E=function(){NovaLoader.showLoader()};return{destroy:L,hideContentLoader:function(){NovaLoader.hideLoader()},showContentLoader:E,init:w}},Nova.SampleView=function(e){"use strict";if(!(this instanceof Nova.SampleView))throw new Error("Nova.SampleView needs to be called with the new keyword");var t,n,a,r="footer",o=function(){n=e.$container,i(),t={},$.watcher("publish","/Nova.SampleView/initialized",t)},i=function(){a={copyright:e.footerText},n.handlebars("footer",a,!0),s()},s=function(){},l=function(){},u=function(){$.watcher("unsubscribeAll","/Nova.SampleView/initialized"),$.watcher("unsubscribeAll","/Nova.SampleView/destroyed")},c=function(){t={},$.watcher("publish","/Nova.SampleView/destroyed",t),u()},d={destroy:c};return o(),d};
//# sourceMappingURL=./nova-min.js.map